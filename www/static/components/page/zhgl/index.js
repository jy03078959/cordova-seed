define("components/page/zhgl/index",function(n,t,a){var e=n("vue.js"),o=n("components/common/BasePage.js");n("datapager/index.js"),a.exports=e.extend({mixins:[o],className:"zhgl",template:'<div id="zhgl" class="hzgl page">\n    <div class="search-panel">\n        <h1>账号搜索</h1>\n\n        <div class="search-warp">\n              <span class="form-group">\n                <label>\n                    姓名:\n                </label>\n               <input type="text" lazy v-model="searchInfo.name"\n                      class="form-control">\n            </span>\n             <span class="form-group">\n                <label>\n                    性别:\n                </label>\n                <select v-model="searchInfo.gender">\n                    <option value="">全部</option>\n                    <option value="1">男</option>\n                    <option value="0">女</option>\n                </select>\n            </span>\n            <span class="form-group">\n                <label>\n                    手机:\n                </label>\n               <input type="text" lazy v-model="searchInfo.mobile"\n                      class="form-control">\n            </span>\n             <span class="form-group">\n                <label>\n                    状态:\n                </label>\n                <select v-model="searchInfo.status">\n                    <option value="">全部</option>\n                    <option value="1">启用</option>\n                    <option value="0">禁用</option>\n                </select>\n            </span>\n\n            <div class="btn yellow search" v-touch:tap="search">\n                查询\n            </div>\n        </div>\n    </div>\n    <div class="nav-panel clearfix">\n        <div class="btn green addBtn" v-touch:tap="add">\n            新增\n        </div>\n    </div>\n    <div class="list-panel">\n        <div class="table">\n            <div class="thead">\n                <ttd >序号</ttd>\n                <ttd >手机号</ttd>\n                <ttd >姓名</ttd>\n                <ttd >性别</ttd>\n                <ttd >创建时间</ttd>\n                <ttd >操作</ttd>\n            </div>\n            <div class="tbody">\n                <div v-repeat="item in ggInfo.lists" v-touch:tap="info($event,item)">\n                    <ttd>{{$index}}</ttd>\n                    <ttd>{{item.mobile}}</ttd>\n                    <ttd>{{item.name}}</ttd>\n                    <ttd>{{item.gender | sex}}</ttd>\n                    <ttd>{{item.createTime | datetime}}</ttd>\n                    <ttd>\n                        <div class="btn2 {{item.status==1?\'red\':\'\'}}" v-touch:tap="statusChange($event,item)">{{item.status==1?\'禁用\':\'启用\'}}</div>\n                    </ttd>\n\n                </div>\n                <div>\n                    <ttd ></ttd>\n                    <ttd ></ttd>\n                    <ttd ></ttd>\n                    <ttd ></ttd>\n                    <ttd ></ttd>\n                    <ttd ></ttd>\n                </div>\n\n            </div>\n        </div>\n        <div class="dataPageWarp">\n            <c-datapager params="{{ggInfo.pagerInfo}}"></c-datapager>\n        </div>\n    </div>\n</div>\n',pageName:"账号管理",data:function(){return{searchInfo:{name:"",mobile:"",gender:"",status:""},ggInfo:{lists:[],pagerInfo:{all:0,curr:1}}}},ready:function(){var n=this;n.$on("datapager.change",function(t){Util.log(n.ggInfo.pagerInfo.curr),n.$options.loadPage(t)})},loadPage:function(n){var t=this.vue;n=n||1;var a=$.extend({count:5,page:n},t.searchInfo);Util.log("--------------加载 consignor_search------------"),Server.ajax({action:"vendor_admin/employees",type:"GET",data:a,needLoading:!0,success:function(n){t.ggInfo.lists=n.info.datas,t.ggInfo.pagerInfo.all=n.info.totalPage,t.$broadcast("dataPager.allChange")}})},attached:function(){var n=this;n.$options.loadPage()},methods:{search:function(){var n=this;n.ggInfo.pagerInfo.curr=1,n.$options.loadPage()},statusChange:function(n,t){n.stopPropagation();var a=t.status,e="";e=1==a?"禁用用户:"+t.name:"启用用户:"+t.name,confirm(e,function(){Server.ajax({action:"vendor_admin/employeeSwitch",type:"POST",data:{id:t.id},needLoading:!0,success:function(n){t.status=n.info.status}})})},add:function(){var n=this;app.$options.dialog("d_fbgg",{pageName:"添加账号",method:"add",btnText:"添加",ok:function(t){n.ggInfo.lists.unshift(t)}})}}})});