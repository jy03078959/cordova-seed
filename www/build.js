function canDelet(e){for(var s=0;s<delRegs.length;s++){var t=delRegs[s];if(t.test(e))return!0}}function scanFolder(e){var s=[],t=[],a=function(e,s,t){var n=fs.readdirSync(e);n.forEach(function(n){var c=e+"/"+n,o=fs.statSync(c);o.isDirectory()?(a(c,s,t),t.push(c)):(console.log(c),canDelet(c)&&(console.log("删除"+c),fs.unlinkSync(c)),s.push(c))})};return a(e,s,t),console.log("扫描"+e+"成功"),{files:s,folders:t}}var fs=require("fs"),path=require("path"),basePath=__dirname.replace(/\\/g,"/");console.log(basePath);var delRegs=[new RegExp(basePath+"/static/js/.*.js"),new RegExp(basePath+"/static/css/.*.css"),new RegExp(basePath+"/static/components/.*.html"),new RegExp(basePath+"/static/components/.*.css"),new RegExp(basePath+"/static/components/.*.js"),new RegExp(basePath+"/static/component_modules/.*"),new RegExp(basePath+"/static/component_modules/.*")],data=scanFolder(basePath+"/static");